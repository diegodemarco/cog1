/*
 Fonts based on https://github.com/basti79/LCD-fonts
 - 6x8:  https://github.com/basti79/LCD-fonts/blob/master/6x8_vertikal_LSB_2.h
 - 8x12: https://github.com/basti79/LCD-fonts/blob/master/8x12_vertikal_LSB_2.h
 
 
*/

using System;
using System.Text;
using cog1.Hardware;

namespace cog1
{
    public class DisplayCanvas
    {

        private readonly bool[,] Buffer;

        #region Icons

        // Switch Off - 30x11px
        public static readonly DisplayCanvas IconSwitchOff_30x11 = new DisplayCanvas(30, 11, new byte[]
        {
            0x70, 0x8c, 0x02, 0x02, 0x01, 0x01, 0x01, 0x03, 0x03, 0x8d, 0x71, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x02, 0x02, 0x8c, 0x70, 0x00, 0x00, 0x00, 0xf8, 0x04, 0x02, 0x02, 0x04, 0xf8,
            0x00, 0x01, 0x02, 0x02, 0x04, 0x04, 0x04, 0x06, 0x06, 0x05, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x02, 0x02, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x02, 0x02, 0x01, 0x00
        });

        // Switch On - 30x11px
        public static readonly DisplayCanvas IconSwitchOn_30x11 = new DisplayCanvas(30, 11, new byte[]
        {
            0x70, 0x8c, 0x02, 0x02, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x71, 0xfd, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfe, 0xfe, 0xfc, 0x70, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0xfe, 0x00, 0x00,
            0x00, 0x01, 0x02, 0x02, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, 0x05, 0x07, 0x07, 0x07, 0x07, 0x07, 0x03, 0x03, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x03, 0x02, 0x00
        });

        // Hourglass - 16x32px
        public static readonly DisplayCanvas IconHourglass_16x32 = new DisplayCanvas(16, 32, new byte[]
        {
            0x00, 0xf8, 0x04, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x04, 0xf8, 0x00,
            0x00, 0x01, 0x0e, 0x3e, 0x7c, 0x7c, 0xf8, 0xf8, 0xf8, 0xf8, 0x7c, 0x7c, 0x3e, 0x0e, 0x01, 0x00,
            0x00, 0x80, 0x70, 0x0c, 0x02, 0x02, 0x01, 0xa1, 0xa1, 0x01, 0x02, 0x02, 0x0c, 0x70, 0x80, 0x00,
            0x00, 0x1f, 0x20, 0x70, 0x78, 0x7c, 0x7c, 0x7e, 0x7e, 0x7c, 0x7c, 0x78, 0x70, 0x20, 0x1f, 0x00
        });

        public static readonly DisplayCanvas IconWarning_10x11 = new DisplayCanvas(10, 11, new byte[]
        {
            0x80, 0xe0, 0xf8, 0xfe, 0x83, 0x83, 0xfe, 0xf8, 0xe0, 0x80, 
            0x03, 0x07, 0x07, 0x07, 0x04, 0x04, 0x07, 0x07, 0x07, 0x03        
        });

        #endregion

        #region Fonts

        public static readonly DisplayCanvas[] Font_6x8 = LoadFont(6, 8, new byte[256, 6]
        {
            {0x00,0x00,0x00,0x00,0x00,0x00},	// 0x00
            {0x00,0x3E,0x45,0x51,0x45,0x3E},	// 0x01
            {0x00,0x3E,0x6B,0x6F,0x6B,0x3E},	// 0x02
            {0x00,0x1C,0x3E,0x7C,0x3E,0x1C},	// 0x03
            {0x00,0x18,0x3C,0x7E,0x3C,0x18},	// 0x04
            {0x00,0x30,0x36,0x7F,0x36,0x30},	// 0x05
            {0x00,0x18,0x5C,0x7E,0x5C,0x18},	// 0x06
            {0x00,0x00,0x00,0x00,0x00,0x00},	// 0x07
            {0x00,0x00,0x00,0x00,0x00,0x00},	// 0x08
            {0x00,0x00,0x00,0x00,0x00,0x00},	// 0x09
            {0x00,0x00,0x00,0x00,0x00,0x00},	// 0x0A
            {0x00,0x30,0x48,0x4A,0x36,0x0E},	// 0x0B
            {0x00,0x06,0x29,0x79,0x29,0x06},	// 0x0C
            {0x00,0x00,0x00,0x00,0x00,0x00},	// 0x0D
            {0x00,0x60,0x7E,0x0A,0x35,0x3F},	// 0x0E
            {0x00,0x2A,0x1C,0x36,0x1C,0x2A},	// 0x0F
            {0x00,0x00,0x7F,0x3E,0x1C,0x08},	// 0x10
            {0x00,0x08,0x1C,0x3E,0x7F,0x00},	// 0x11
            {0x00,0x14,0x36,0x7F,0x36,0x14},	// 0x12
            {0x00,0x00,0x5F,0x00,0x5F,0x00},	// 0x13
            {0x00,0x06,0x09,0x7F,0x01,0x7F},	// 0x14
            {0x00,0x22,0x4D,0x55,0x59,0x22},	// 0x15
            {0x00,0x60,0x60,0x60,0x60,0x00},	// 0x16
            {0x00,0x14,0xB6,0xFF,0xB6,0x14},	// 0x17
            {0x00,0x04,0x06,0x7F,0x06,0x04},	// 0x18
            {0x00,0x10,0x30,0x7F,0x30,0x10},	// 0x19
            {0x00,0x08,0x08,0x3E,0x1C,0x08},	// 0x1A
            {0x00,0x08,0x1C,0x3E,0x08,0x08},	// 0x1B
            {0x00,0x78,0x40,0x40,0x40,0x40},	// 0x1C
            {0x00,0x08,0x3E,0x08,0x3E,0x08},	// 0x1D
            {0x00,0x30,0x3C,0x3F,0x3C,0x30},	// 0x1E
            {0x00,0x03,0x0F,0x3F,0x0F,0x03},	// 0x1F
            {0x00,0x00,0x00,0x00,0x00,0x00},	// 0x20
            {0x00,0x00,0x06,0x5F,0x06,0x00},	// 0x21
            {0x00,0x07,0x03,0x00,0x07,0x03},	// 0x22
            {0x00,0x24,0x7E,0x24,0x7E,0x24},	// 0x23
            {0x00,0x24,0x2B,0x6A,0x12,0x00},	// 0x24
            {0x00,0x63,0x13,0x08,0x64,0x63},	// 0x25
            {0x00,0x36,0x49,0x56,0x20,0x50},	// 0x26
            {0x00,0x00,0x07,0x03,0x00,0x00},	// 0x27
            {0x00,0x00,0x3E,0x41,0x00,0x00},	// 0x28
            {0x00,0x00,0x41,0x3E,0x00,0x00},	// 0x29
            {0x00,0x08,0x3E,0x1C,0x3E,0x08},	// 0x2A
            {0x00,0x08,0x08,0x3E,0x08,0x08},	// 0x2B
            {0x00,0x00,0xE0,0x60,0x00,0x00},	// 0x2C
            {0x00,0x08,0x08,0x08,0x08,0x08},	// 0x2D
            {0x00,0x00,0x60,0x60,0x00,0x00},	// 0x2E
            {0x00,0x20,0x10,0x08,0x04,0x02},	// 0x2F
            {0x00,0x3E,0x51,0x49,0x45,0x3E},	// 0x30
            {0x00,0x00,0x42,0x7F,0x40,0x00},	// 0x31
            {0x00,0x62,0x51,0x49,0x49,0x46},	// 0x32
            {0x00,0x22,0x49,0x49,0x49,0x36},	// 0x33
            {0x00,0x18,0x14,0x12,0x7F,0x10},	// 0x34
            {0x00,0x2F,0x49,0x49,0x49,0x31},	// 0x35
            {0x00,0x3C,0x4A,0x49,0x49,0x30},	// 0x36
            {0x00,0x01,0x71,0x09,0x05,0x03},	// 0x37
            {0x00,0x36,0x49,0x49,0x49,0x36},	// 0x38
            {0x00,0x06,0x49,0x49,0x29,0x1E},	// 0x39
            {0x00,0x00,0x6C,0x6C,0x00,0x00},	// 0x3A
            {0x00,0x00,0xEC,0x6C,0x00,0x00},	// 0x3B
            {0x00,0x08,0x14,0x22,0x41,0x00},	// 0x3C
            {0x00,0x24,0x24,0x24,0x24,0x24},	// 0x3D
            {0x00,0x00,0x41,0x22,0x14,0x08},	// 0x3E
            {0x00,0x02,0x01,0x59,0x09,0x06},	// 0x3F
            {0x00,0x3E,0x41,0x5D,0x55,0x1E},	// 0x40
            {0x00,0x7E,0x11,0x11,0x11,0x7E},	// 0x41
            {0x00,0x7F,0x49,0x49,0x49,0x36},	// 0x42
            {0x00,0x3E,0x41,0x41,0x41,0x22},	// 0x43
            {0x00,0x7F,0x41,0x41,0x41,0x3E},	// 0x44
            {0x00,0x7F,0x49,0x49,0x49,0x41},	// 0x45
            {0x00,0x7F,0x09,0x09,0x09,0x01},	// 0x46
            {0x00,0x3E,0x41,0x49,0x49,0x7A},	// 0x47
            {0x00,0x7F,0x08,0x08,0x08,0x7F},	// 0x48
            {0x00,0x00,0x41,0x7F,0x41,0x00},	// 0x49
            {0x00,0x30,0x40,0x40,0x40,0x3F},	// 0x4A
            {0x00,0x7F,0x08,0x14,0x22,0x41},	// 0x4B
            {0x00,0x7F,0x40,0x40,0x40,0x40},	// 0x4C
            {0x00,0x7F,0x02,0x04,0x02,0x7F},	// 0x4D
            {0x00,0x7F,0x02,0x04,0x08,0x7F},	// 0x4E
            {0x00,0x3E,0x41,0x41,0x41,0x3E},	// 0x4F
            {0x00,0x7F,0x09,0x09,0x09,0x06},	// 0x50
            {0x00,0x3E,0x41,0x51,0x21,0x5E},	// 0x51
            {0x00,0x7F,0x09,0x09,0x19,0x66},	// 0x52
            {0x00,0x26,0x49,0x49,0x49,0x32},	// 0x53
            {0x00,0x01,0x01,0x7F,0x01,0x01},	// 0x54
            {0x00,0x3F,0x40,0x40,0x40,0x3F},	// 0x55
            {0x00,0x1F,0x20,0x40,0x20,0x1F},	// 0x56
            {0x00,0x3F,0x40,0x3C,0x40,0x3F},	// 0x57
            {0x00,0x63,0x14,0x08,0x14,0x63},	// 0x58
            {0x00,0x07,0x08,0x70,0x08,0x07},	// 0x59
            {0x00,0x71,0x49,0x45,0x43,0x00},	// 0x5A
            {0x00,0x00,0x7F,0x41,0x41,0x00},	// 0x5B
            {0x00,0x02,0x04,0x08,0x10,0x20},	// 0x5C
            {0x00,0x00,0x41,0x41,0x7F,0x00},	// 0x5D
            {0x00,0x04,0x02,0x01,0x02,0x04},	// 0x5E
            {0x80,0x80,0x80,0x80,0x80,0x80},	// 0x5F
            {0x00,0x00,0x03,0x07,0x00,0x00},	// 0x60
            {0x00,0x20,0x54,0x54,0x54,0x78},	// 0x61
            {0x00,0x7F,0x44,0x44,0x44,0x38},	// 0x62
            {0x00,0x38,0x44,0x44,0x44,0x28},	// 0x63
            {0x00,0x38,0x44,0x44,0x44,0x7F},	// 0x64
            {0x00,0x38,0x54,0x54,0x54,0x08},	// 0x65
            {0x00,0x08,0x7E,0x09,0x09,0x00},	// 0x66
            {0x00,0x18,0xA4,0xA4,0xA4,0x7C},	// 0x67
            {0x00,0x7F,0x04,0x04,0x78,0x00},	// 0x68
            {0x00,0x00,0x00,0x7D,0x40,0x00},	// 0x69
            {0x00,0x40,0x80,0x84,0x7D,0x00},	// 0x6A
            {0x00,0x7F,0x10,0x28,0x44,0x00},	// 0x6B
            {0x00,0x00,0x00,0x7F,0x40,0x00},	// 0x6C
            {0x00,0x7C,0x04,0x18,0x04,0x78},	// 0x6D
            {0x00,0x7C,0x04,0x04,0x78,0x00},	// 0x6E
            {0x00,0x38,0x44,0x44,0x44,0x38},	// 0x6F
            {0x00,0xFC,0x44,0x44,0x44,0x38},	// 0x70
            {0x00,0x38,0x44,0x44,0x44,0xFC},	// 0x71
            {0x00,0x44,0x78,0x44,0x04,0x08},	// 0x72
            {0x00,0x08,0x54,0x54,0x54,0x20},	// 0x73
            {0x00,0x04,0x3E,0x44,0x24,0x00},	// 0x74
            {0x00,0x3C,0x40,0x20,0x7C,0x00},	// 0x75
            {0x00,0x1C,0x20,0x40,0x20,0x1C},	// 0x76
            {0x00,0x3C,0x60,0x30,0x60,0x3C},	// 0x77
            {0x00,0x6C,0x10,0x10,0x6C,0x00},	// 0x78
            {0x00,0x9C,0xA0,0x60,0x3C,0x00},	// 0x79
            {0x00,0x64,0x54,0x54,0x4C,0x00},	// 0x7A
            {0x00,0x08,0x3E,0x41,0x41,0x00},	// 0x7B
            {0x00,0x00,0x00,0x77,0x00,0x00},	// 0x7C
            {0x00,0x00,0x41,0x41,0x3E,0x08},	// 0x7D
            {0x00,0x02,0x01,0x02,0x01,0x00},	// 0x7E
            {0x00,0x3C,0x26,0x23,0x26,0x3C},	// 0x7F
            {0x00,0x1E,0xA1,0xE1,0x21,0x12},	// 0x80
            {0x00,0x3D,0x40,0x20,0x7D,0x00},	// 0x81
            {0x00,0x38,0x54,0x54,0x55,0x09},	// 0x82
            {0x00,0x20,0x55,0x55,0x55,0x78},	// 0x83
            {0x00,0x20,0x55,0x54,0x55,0x78},	// 0x84
            {0x00,0x20,0x55,0x55,0x54,0x78},	// 0x85
            {0x00,0x20,0x57,0x55,0x57,0x78},	// 0x86
            {0x00,0x1C,0xA2,0xE2,0x22,0x14},	// 0x87
            {0x00,0x38,0x55,0x55,0x55,0x08},	// 0x88
            {0x00,0x38,0x55,0x54,0x55,0x08},	// 0x89
            {0x00,0x38,0x55,0x55,0x54,0x08},	// 0x8A
            {0x00,0x00,0x01,0x7C,0x41,0x00},	// 0x8B
            {0x00,0x00,0x01,0x7D,0x41,0x00},	// 0x8C
            {0x00,0x00,0x01,0x7C,0x40,0x00},	// 0x8D
            {0x00,0x70,0x29,0x24,0x29,0x70},	// 0x8E
            {0x00,0x78,0x2F,0x25,0x2F,0x78},	// 0x8F
            {0x00,0x7C,0x54,0x54,0x55,0x45},	// 0x90
            {0x00,0x34,0x54,0x7C,0x54,0x58},	// 0x91
            {0x00,0x7E,0x09,0x7F,0x49,0x49},	// 0x92
            {0x00,0x38,0x45,0x45,0x39,0x00},	// 0x93
            {0x00,0x38,0x45,0x44,0x39,0x00},	// 0x94
            {0x00,0x39,0x45,0x44,0x38,0x00},	// 0x95
            {0x00,0x3C,0x41,0x21,0x7D,0x00},	// 0x96
            {0x00,0x3D,0x41,0x20,0x7C,0x00},	// 0x97
            {0x00,0x9C,0xA1,0x60,0x3D,0x00},	// 0x98
            {0x00,0x3D,0x42,0x42,0x3D,0x00},	// 0x99
            {0x00,0x3C,0x41,0x40,0x3D,0x00},	// 0x9A
            {0x80,0x70,0x68,0x58,0x38,0x04},	// 0x9B
            {0x00,0x48,0x3E,0x49,0x49,0x62},	// 0x9C
            {0x00,0x7E,0x61,0x5D,0x43,0x3F},	// 0x9D
            {0x00,0x22,0x14,0x08,0x14,0x22},	// 0x9E
            {0x00,0x40,0x88,0x7E,0x09,0x02},	// 0x9F
            {0x00,0x20,0x54,0x55,0x55,0x78},	// 0xA0
            {0x00,0x00,0x00,0x7D,0x41,0x00},	// 0xA1
            {0x00,0x38,0x44,0x45,0x39,0x00},	// 0xA2
            {0x00,0x3C,0x40,0x21,0x7D,0x00},	// 0xA3
            {0x00,0x7A,0x09,0x0A,0x71,0x00},	// 0xA4
            {0x00,0x7A,0x11,0x22,0x79,0x00},	// 0xA5
            {0x00,0x08,0x55,0x55,0x55,0x5E},	// 0xA6
            {0x00,0x0E,0x11,0x11,0x0E,0x00},	// 0xA7 -> Modified: removed underlying line, so it can be used as the "degree" symbol
            {0x00,0x30,0x48,0x4D,0x40,0x20},	// 0xA8
            {0x3E,0x41,0x5D,0x4B,0x55,0x3E},	// 0xA9
            {0x04,0x04,0x04,0x04,0x04,0x1C},	// 0xAA
            {0x00,0x17,0x08,0x4C,0x6A,0x50},	// 0xAB
            {0x00,0x17,0x08,0x34,0x2A,0x78},	// 0xAC
            {0x00,0x00,0x30,0x7D,0x30,0x00},	// 0xAD
            {0x00,0x08,0x14,0x00,0x08,0x14},	// 0xAE
            {0x00,0x14,0x08,0x00,0x14,0x08},	// 0xAF
            {0x44,0x11,0x44,0x11,0x44,0x11},	// 0xB0
            {0xAA,0x55,0xAA,0x55,0xAA,0x55},	// 0xB1
            {0xBB,0xEE,0xBB,0xEE,0xBB,0xEE},	// 0xB2
            {0x00,0x00,0x00,0xFF,0x00,0x00},	// 0xB3
            {0x08,0x08,0x08,0xFF,0x00,0x00},	// 0xB4
            {0x00,0x70,0x28,0x25,0x29,0x70},	// 0xB5
            {0x00,0x70,0x29,0x25,0x29,0x70},	// 0xB6
            {0x00,0x70,0x29,0x25,0x28,0x70},	// 0xB7
            {0x3E,0x41,0x5D,0x55,0x41,0x3E},	// 0xB8
            {0x0A,0xFB,0x00,0xFF,0x00,0x00},	// 0xB9
            {0x00,0xFF,0x00,0xFF,0x00,0x00},	// 0xBA
            {0x0A,0xFA,0x02,0xFE,0x00,0x00},	// 0xBB
            {0x0A,0x0B,0x08,0x0F,0x00,0x00},	// 0xBC
            {0x00,0x18,0x24,0x66,0x24,0x00},	// 0xBD
            {0x00,0x29,0x2A,0x7C,0x2A,0x29},	// 0xBE
            {0x08,0x08,0x08,0xF8,0x00,0x00},	// 0xBF
            {0x00,0x00,0x00,0x0F,0x08,0x08},	// 0xC0
            {0x08,0x08,0x08,0x0F,0x08,0x08},	// 0xC1
            {0x08,0x08,0x08,0xF8,0x08,0x08},	// 0xC2
            {0x00,0x00,0x00,0xFF,0x08,0x08},	// 0xC3
            {0x08,0x08,0x08,0x08,0x08,0x08},	// 0xC4
            {0x08,0x08,0x08,0xFF,0x08,0x08},	// 0xC5
            {0x00,0x20,0x56,0x55,0x56,0x79},	// 0xC6
            {0x00,0x70,0x2A,0x25,0x2A,0x71},	// 0xC7
            {0x00,0x0F,0x08,0x0B,0x0A,0x0A},	// 0xC8
            {0x00,0xFE,0x02,0xFA,0x0A,0x0A},	// 0xC9
            {0x0A,0x0B,0x08,0x0B,0x0A,0x0A},	// 0xCA
            {0x0A,0xFA,0x02,0xFA,0x0A,0x0A},	// 0xCB
            {0x00,0xFF,0x00,0xFB,0x0A,0x0A},	// 0xCC
            {0x0A,0x0A,0x0A,0x0A,0x0A,0x0A},	// 0xCD
            {0x0A,0xFB,0x00,0xFB,0x0A,0x0A},	// 0xCE
            {0x00,0x5D,0x22,0x22,0x22,0x5D},	// 0xCF
            {0x00,0x22,0x55,0x59,0x30,0x00},	// 0xD0
            {0x00,0x08,0x7F,0x49,0x41,0x3E},	// 0xD1
            {0x00,0x7C,0x55,0x55,0x55,0x44},	// 0xD2
            {0x00,0x7C,0x55,0x54,0x55,0x44},	// 0xD3
            {0x00,0x7C,0x55,0x55,0x54,0x44},	// 0xD4
            {0x00,0x00,0x00,0x07,0x00,0x00},	// 0xD5
            {0x00,0x00,0x44,0x7D,0x45,0x00},	// 0xD6
            {0x00,0x00,0x45,0x7D,0x45,0x00},	// 0xD7
            {0x00,0x00,0x45,0x7C,0x45,0x00},	// 0xD8
            {0x08,0x08,0x08,0x0F,0x00,0x00},	// 0xD9
            {0x00,0x00,0x00,0xF8,0x08,0x08},	// 0xDA
            {0xFF,0xFF,0xFF,0xFF,0xFF,0xFF},	// 0xDB
            {0xF0,0xF0,0xF0,0xF0,0xF0,0xF0},	// 0xDC
            {0x00,0x00,0x00,0x77,0x00,0x00},	// 0xDD
            {0x00,0x00,0x45,0x7D,0x44,0x00},	// 0xDE
            {0x0F,0x0F,0x0F,0x0F,0x0F,0x0F},	// 0xDF
            {0x00,0x3C,0x42,0x43,0x3D,0x00},	// 0xE0
            {0x00,0xFE,0x4A,0x4A,0x34,0x00},	// 0xE1
            {0x00,0x3C,0x43,0x43,0x3D,0x00},	// 0xE2
            {0x00,0x3D,0x43,0x42,0x3C,0x00},	// 0xE3
            {0x00,0x32,0x49,0x4A,0x31,0x00},	// 0xE4
            {0x00,0x3A,0x45,0x46,0x39,0x00},	// 0xE5
            {0x00,0xFC,0x20,0x20,0x1C,0x00},	// 0xE6
            {0x00,0xFE,0xAA,0x28,0x10,0x00},	// 0xE7
            {0x00,0xFF,0xA5,0x24,0x18,0x00},	// 0xE8
            {0x00,0x3C,0x40,0x41,0x3D,0x00},	// 0xE9
            {0x00,0x3C,0x41,0x41,0x3D,0x00},	// 0xEA
            {0x00,0x3D,0x41,0x40,0x3C,0x00},	// 0xEB
            {0x00,0x9C,0xA0,0x61,0x3D,0x00},	// 0xEC
            {0x00,0x04,0x08,0x71,0x09,0x04},	// 0xED
            {0x00,0x00,0x02,0x02,0x02,0x00},	// 0xEE
            {0x00,0x00,0x07,0x03,0x00,0x00},	// 0xEF
            {0x00,0x00,0x08,0x08,0x08,0x00},	// 0xF0
            {0x00,0x00,0x24,0x2E,0x24,0x00},	// 0xF1
            {0x00,0x24,0x24,0x24,0x24,0x24},	// 0xF2
            {0x05,0x17,0x0A,0x34,0x2A,0x78},	// 0xF3
            {0x00,0x06,0x09,0x7F,0x01,0x7F},	// 0xF4
            {0x00,0x22,0x4D,0x55,0x59,0x22},	// 0xF5
            {0x00,0x08,0x08,0x2A,0x08,0x08},	// 0xF6
            {0x00,0x00,0x08,0x18,0x18,0x00},	// 0xF7
            {0x00,0x06,0x09,0x09,0x06,0x00},	// 0xF8
            {0x00,0x00,0x08,0x00,0x08,0x00},	// 0xF9
            {0x00,0x00,0x08,0x00,0x00,0x00},	// 0xFA
            {0x00,0x02,0x0F,0x00,0x00,0x00},	// 0xFB
            {0x00,0x09,0x0F,0x05,0x00,0x00},	// 0xFC
            {0x00,0x09,0x0D,0x0A,0x00,0x00},	// 0xFD
            {0x00,0x3C,0x3C,0x3C,0x3C,0x00},	// 0xFE
            {0x00,0x00,0x00,0x00,0x00,0x00} 	// 0xFF
        });

        public static readonly DisplayCanvas[] Font_8x12 = LoadFont(8, 12, new byte[256, 16]
        {
            {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},	// 0x00
            {0xFC,0x01,0x06,0x03,0x52,0x02,0xC2,0x02,0xC2,0x02,0x52,0x02,0x06,0x03,0xFC,0x01},	// 0x01
            {0xFC,0x01,0xFE,0x03,0xAE,0x03,0x3E,0x03,0x3E,0x03,0xAE,0x03,0xFE,0x03,0xFC,0x01},	// 0x02
            {0x78,0x00,0xFC,0x00,0xF8,0x01,0xF0,0x03,0xF8,0x01,0xFC,0x00,0x78,0x00,0x00,0x00},	// 0x03
            {0x30,0x00,0x78,0x00,0xFC,0x00,0xFE,0x01,0xFC,0x00,0x78,0x00,0x30,0x00,0x00,0x00},	// 0x04
            {0x70,0x00,0x70,0x02,0x7C,0x02,0x9E,0x03,0x9E,0x03,0x7C,0x02,0x70,0x02,0x70,0x00},	// 0x05
            {0x30,0x00,0x78,0x02,0x7C,0x02,0xFE,0x03,0xFE,0x03,0x7C,0x02,0x78,0x02,0x30,0x00},	// 0x06
            {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},	// 0x07
            {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},	// 0x08
            {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},	// 0x09
            {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},	// 0x0A
            {0xE0,0x01,0xF0,0x03,0x3A,0x02,0x3A,0x02,0xEE,0x03,0xC6,0x01,0x1E,0x00,0x00,0x00},	// 0x0B
            {0x00,0x00,0x9C,0x00,0xBE,0x00,0xE2,0x03,0xE2,0x03,0xBE,0x00,0x9C,0x00,0x00,0x00},	// 0x0C
            {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},	// 0x0D
            {0x00,0x07,0xFE,0x07,0xFE,0x03,0x0A,0x00,0x0A,0x00,0x8A,0x03,0xFE,0x03,0xFE,0x01},	// 0x0E
            {0x68,0x01,0xF8,0x01,0xF0,0x00,0x9C,0x03,0x9C,0x03,0xF0,0x00,0xF8,0x01,0x68,0x01},	// 0x0F
            {0xFE,0x03,0xFC,0x01,0xF8,0x00,0x70,0x00,0x70,0x00,0x20,0x00,0x20,0x00,0x00,0x00},	// 0x10
            {0x20,0x00,0x20,0x00,0x70,0x00,0x70,0x00,0xF8,0x00,0xFC,0x01,0xFE,0x03,0x00,0x00},	// 0x11
            {0x00,0x00,0x88,0x00,0x8C,0x01,0xFE,0x03,0xFE,0x03,0x8C,0x01,0x88,0x00,0x00,0x00},	// 0x12
            {0x00,0x00,0x3E,0x03,0x3E,0x03,0x00,0x00,0x00,0x00,0x3E,0x03,0x3E,0x03,0x00,0x00},	// 0x13
            {0x1C,0x00,0x3E,0x00,0x22,0x00,0xFE,0x03,0xFE,0x03,0x02,0x00,0xFE,0x03,0xFE,0x03},	// 0x14
            {0x00,0x02,0x66,0x06,0xFE,0x04,0x9A,0x04,0x92,0x05,0xF2,0x07,0x66,0x06,0x04,0x00},	// 0x15
            {0x80,0x03,0x80,0x03,0x80,0x03,0x80,0x03,0x80,0x03,0x80,0x03,0x80,0x03,0x00,0x00},	// 0x16
            {0x00,0x00,0x88,0x04,0x8C,0x05,0xFE,0x07,0xFE,0x07,0x8C,0x05,0x88,0x04,0x00,0x00},	// 0x17
            {0x00,0x00,0x08,0x00,0x0C,0x00,0xFE,0x03,0xFE,0x03,0x0C,0x00,0x08,0x00,0x00,0x00},	// 0x18
            {0x00,0x00,0x80,0x00,0x80,0x01,0xFE,0x03,0xFE,0x03,0x80,0x01,0x80,0x00,0x00,0x00},	// 0x19
            {0x20,0x00,0x20,0x00,0x20,0x00,0xA8,0x00,0xF8,0x00,0x70,0x00,0x20,0x00,0x00,0x00},	// 0x1A
            {0x20,0x00,0x70,0x00,0xF8,0x00,0xA8,0x00,0x20,0x00,0x20,0x00,0x20,0x00,0x00,0x00},	// 0x1B
            {0xF0,0x00,0xF0,0x00,0x80,0x00,0x80,0x00,0x80,0x00,0x80,0x00,0x80,0x00,0x00,0x00},	// 0x1C
            {0x20,0x00,0x70,0x00,0xF8,0x00,0x20,0x00,0x20,0x00,0xF8,0x00,0x70,0x00,0x20,0x00},	// 0x1D
            {0x00,0x03,0xC0,0x03,0xF0,0x03,0xFC,0x03,0xF0,0x03,0xC0,0x03,0x00,0x03,0x00,0x00},	// 0x1E
            {0x0C,0x00,0x3C,0x00,0xFC,0x00,0xFC,0x03,0xFC,0x00,0x3C,0x00,0x0C,0x00,0x00,0x00},	// 0x1F
            {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},	// 0x20
            {0x00,0x00,0x1C,0x00,0x7E,0x03,0x7E,0x03,0x1C,0x00,0x00,0x00,0x00,0x00,0x00,0x00},	// 0x21
            {0x00,0x00,0x0E,0x00,0x1E,0x00,0x00,0x00,0x00,0x00,0x1E,0x00,0x0E,0x00,0x00,0x00},	// 0x22
            {0x88,0x00,0xFE,0x03,0xFE,0x03,0x88,0x00,0xFE,0x03,0xFE,0x03,0x88,0x00,0x00,0x00},	// 0x23
            {0x18,0x01,0x3C,0x01,0x27,0x07,0x27,0x07,0xE4,0x01,0xC4,0x00,0x00,0x00,0x00,0x00},	// 0x24
            {0x18,0x03,0x98,0x01,0xC0,0x00,0x60,0x00,0x30,0x03,0x18,0x03,0x00,0x00,0x00,0x00},	// 0x25
            {0xEC,0x01,0xFE,0x03,0x32,0x02,0x7E,0x03,0xEC,0x01,0xC0,0x03,0x60,0x02,0x00,0x00},	// 0x26
            {0x00,0x00,0x10,0x00,0x1E,0x00,0x0E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},	// 0x27
            {0x00,0x00,0x70,0x00,0xF8,0x00,0x8C,0x01,0x06,0x03,0x02,0x02,0x00,0x00,0x00,0x00},	// 0x28
            {0x00,0x00,0x02,0x02,0x06,0x03,0x8C,0x01,0xF8,0x00,0x70,0x00,0x00,0x00,0x00,0x00},	// 0x29
            {0x20,0x00,0xA8,0x00,0xF8,0x00,0x70,0x00,0x70,0x00,0xF8,0x00,0xA8,0x00,0x20,0x00},	// 0x2A
            {0x00,0x00,0x20,0x00,0x20,0x00,0xF8,0x00,0xF8,0x00,0x20,0x00,0x20,0x00,0x00,0x00},	// 0x2B
            {0x00,0x00,0x00,0x04,0x00,0x07,0x00,0x03,0x00,0x03,0x00,0x00,0x00,0x00,0x00,0x00},	// 0x2C
            {0x20,0x00,0x20,0x00,0x20,0x00,0x20,0x00,0x20,0x00,0x20,0x00,0x20,0x00,0x00,0x00},	// 0x2D
            {0x00,0x00,0x00,0x00,0x00,0x03,0x00,0x03,0x00,0x03,0x00,0x00,0x00,0x00,0x00,0x00},	// 0x2E
            {0x00,0x03,0x80,0x01,0xC0,0x00,0x60,0x00,0x30,0x00,0x18,0x00,0x0C,0x00,0x00,0x00},	// 0x2F
            {0xFC,0x01,0xFE,0x03,0xC2,0x02,0x72,0x02,0x1A,0x02,0xFE,0x03,0xFC,0x01,0x00,0x00},	// 0x30
            {0x08,0x02,0x08,0x02,0xFC,0x03,0xFE,0x03,0x00,0x02,0x00,0x02,0x00,0x00,0x00,0x00},	// 0x31
            {0x0C,0x03,0x8E,0x03,0xC2,0x02,0x62,0x02,0x3E,0x03,0x1C,0x03,0x00,0x00,0x00,0x00},	// 0x32
            {0x04,0x01,0x06,0x03,0x22,0x02,0x22,0x02,0xFE,0x03,0xDC,0x01,0x00,0x00,0x00,0x00},	// 0x33
            {0x60,0x00,0x70,0x00,0x58,0x00,0x4C,0x02,0xFE,0x03,0xFE,0x03,0x40,0x02,0x00,0x00},	// 0x34
            {0x3E,0x01,0x3E,0x03,0x22,0x02,0x22,0x02,0xE2,0x03,0xC2,0x01,0x00,0x00,0x00,0x00},	// 0x35
            {0xF8,0x01,0xFC,0x03,0x26,0x02,0x22,0x02,0xE2,0x03,0xC0,0x01,0x00,0x00,0x00,0x00},	// 0x36
            {0x0E,0x00,0x0E,0x00,0x82,0x03,0xC2,0x03,0x62,0x00,0x3E,0x00,0x1E,0x00,0x00,0x00},	// 0x37
            {0xDC,0x01,0xFE,0x03,0x22,0x02,0x22,0x02,0xFE,0x03,0xDC,0x01,0x00,0x00,0x00,0x00},	// 0x38
            {0x1C,0x00,0x3E,0x02,0x22,0x03,0xE2,0x03,0xFE,0x00,0x3C,0x00,0x00,0x00,0x00,0x00},	// 0x39
            {0x00,0x00,0x00,0x00,0x98,0x01,0x98,0x01,0x98,0x01,0x00,0x00,0x00,0x00,0x00,0x00},	// 0x3A
            {0x00,0x00,0x00,0x00,0x98,0x05,0x98,0x07,0x98,0x03,0x00,0x00,0x00,0x00,0x00,0x00},	// 0x3B
            {0x20,0x00,0x70,0x00,0xD8,0x00,0x8C,0x01,0x06,0x03,0x02,0x02,0x00,0x00,0x00,0x00},	// 0x3C
            {0x00,0x00,0x50,0x00,0x50,0x00,0x50,0x00,0x50,0x00,0x50,0x00,0x50,0x00,0x00,0x00},	// 0x3D
            {0x00,0x00,0x02,0x02,0x06,0x03,0x8C,0x01,0xD8,0x00,0x70,0x00,0x20,0x00,0x00,0x00},	// 0x3E
            {0x04,0x00,0x06,0x00,0x62,0x03,0x72,0x03,0x1E,0x00,0x0C,0x00,0x00,0x00,0x00,0x00},	// 0x3F
            {0xFC,0x01,0xFE,0x03,0x02,0x02,0x72,0x02,0x72,0x02,0x7E,0x02,0x7C,0x00,0x00,0x00},	// 0x40
            {0xF8,0x03,0xFC,0x03,0x46,0x00,0x46,0x00,0xFC,0x03,0xF8,0x03,0x00,0x00,0x00,0x00},	// 0x41
            {0x02,0x02,0xFE,0x03,0xFE,0x03,0x22,0x02,0x22,0x02,0xFE,0x03,0xDC,0x01,0x00,0x00},	// 0x42
            {0xF8,0x00,0xFC,0x01,0x06,0x03,0x02,0x02,0x02,0x02,0x8E,0x03,0x8C,0x01,0x00,0x00},	// 0x43
            {0x02,0x02,0xFE,0x03,0xFE,0x03,0x02,0x02,0x06,0x03,0xFC,0x01,0xF8,0x00,0x00,0x00},	// 0x44
            {0x02,0x02,0xFE,0x03,0xFE,0x03,0x22,0x02,0x22,0x02,0x72,0x02,0x06,0x03,0x00,0x00},	// 0x45
            {0x02,0x02,0xFE,0x03,0xFE,0x03,0x22,0x02,0x22,0x00,0x76,0x00,0x0E,0x00,0x00,0x00},	// 0x46
            {0xF8,0x00,0xFC,0x01,0x06,0x03,0x02,0x02,0x42,0x02,0xCE,0x03,0xCC,0x03,0x00,0x00},	// 0x47
            {0xFE,0x03,0xFE,0x03,0x20,0x00,0x20,0x00,0xFE,0x03,0xFE,0x03,0x00,0x00,0x00,0x00},	// 0x48
            {0x00,0x00,0x02,0x02,0xFE,0x03,0xFE,0x03,0x02,0x02,0x00,0x00,0x00,0x00,0x00,0x00},	// 0x49
            {0xC0,0x01,0xC0,0x03,0x00,0x02,0x02,0x02,0xFE,0x03,0xFE,0x01,0x02,0x00,0x00,0x00},	// 0x4A
            {0x02,0x02,0xFE,0x03,0xFE,0x03,0x20,0x00,0xF8,0x00,0xDE,0x03,0x06,0x03,0x00,0x00},	// 0x4B
            {0x02,0x02,0xFE,0x03,0xFE,0x03,0x02,0x02,0x00,0x02,0x80,0x03,0xC0,0x03,0x00,0x00},	// 0x4C
            {0xFE,0x03,0xFE,0x03,0x1C,0x00,0x38,0x00,0x1C,0x00,0xFE,0x03,0xFE,0x03,0x00,0x00},	// 0x4D
            {0xFE,0x03,0xFE,0x03,0x38,0x00,0x70,0x00,0xE0,0x00,0xFE,0x03,0xFE,0x03,0x00,0x00},	// 0x4E
            {0xF8,0x00,0xFC,0x01,0x06,0x03,0x02,0x02,0x06,0x03,0xFC,0x01,0xF8,0x00,0x00,0x00},	// 0x4F
            {0x02,0x02,0xFE,0x03,0xFE,0x03,0x22,0x02,0x22,0x00,0x3E,0x00,0x1C,0x00,0x00,0x00},	// 0x50
            {0xF8,0x00,0xFC,0x01,0x06,0x01,0x82,0x05,0xC6,0x07,0xFC,0x07,0xF8,0x04,0x00,0x00},	// 0x51
            {0x02,0x02,0xFE,0x03,0xFE,0x03,0x22,0x00,0x62,0x00,0xFE,0x03,0x9C,0x03,0x00,0x00},	// 0x52
            {0x9C,0x01,0xBE,0x03,0x22,0x02,0x62,0x02,0xCE,0x03,0x8C,0x01,0x00,0x00,0x00,0x00},	// 0x53
            {0x06,0x00,0x02,0x02,0xFE,0x03,0xFE,0x03,0x02,0x02,0x06,0x00,0x00,0x00,0x00,0x00},	// 0x54
            {0xFE,0x01,0xFE,0x03,0x00,0x02,0x00,0x02,0xFE,0x03,0xFE,0x01,0x00,0x00,0x00,0x00},	// 0x55
            {0xFE,0x00,0xFE,0x01,0x00,0x03,0x00,0x03,0xFE,0x01,0xFE,0x00,0x00,0x00,0x00,0x00},	// 0x56
            {0x7E,0x00,0xFE,0x03,0x80,0x03,0x60,0x00,0x80,0x03,0xFE,0x03,0x7E,0x00,0x00,0x00},	// 0x57
            {0x8E,0x03,0xDE,0x03,0x70,0x00,0x70,0x00,0xDE,0x03,0x8E,0x03,0x00,0x00,0x00,0x00},	// 0x58
            {0x1E,0x00,0x3E,0x02,0xE0,0x03,0xE0,0x03,0x3E,0x02,0x1E,0x00,0x00,0x00,0x00,0x00},	// 0x59
            {0x0E,0x03,0xC6,0x03,0xE2,0x02,0x3A,0x02,0x1E,0x02,0x06,0x03,0x86,0x03,0x00,0x00},	// 0x5A
            {0x00,0x00,0x00,0x00,0xFE,0x03,0xFE,0x03,0x02,0x02,0x02,0x02,0x00,0x00,0x00,0x00},	// 0x5B
            {0x0C,0x00,0x18,0x00,0x30,0x00,0x60,0x00,0xC0,0x00,0x80,0x01,0x00,0x03,0x00,0x00},	// 0x5C
            {0x00,0x00,0x00,0x00,0x02,0x02,0x02,0x02,0xFE,0x03,0xFE,0x03,0x00,0x00,0x00,0x00},	// 0x5D
            {0x08,0x00,0x0C,0x00,0x06,0x00,0x03,0x00,0x06,0x00,0x0C,0x00,0x08,0x00,0x00,0x00},	// 0x5E
            {0x00,0x04,0x00,0x04,0x00,0x04,0x00,0x04,0x00,0x04,0x00,0x04,0x00,0x04,0x00,0x04},	// 0x5F
            {0x00,0x00,0x00,0x00,0x03,0x00,0x07,0x00,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00},	// 0x60
            {0x80,0x01,0xD0,0x03,0x50,0x02,0x50,0x02,0xF0,0x01,0xE0,0x03,0x00,0x02,0x00,0x00},	// 0x61
            {0x02,0x02,0xFE,0x03,0xFE,0x01,0x10,0x02,0x10,0x02,0xF0,0x03,0xE0,0x01,0x00,0x00},	// 0x62
            {0xE0,0x01,0xF0,0x03,0x10,0x02,0x10,0x02,0x30,0x03,0x20,0x01,0x00,0x00,0x00,0x00},	// 0x63
            {0xE0,0x01,0xF0,0x03,0x10,0x02,0x12,0x02,0xFE,0x01,0xFE,0x03,0x00,0x02,0x00,0x00},	// 0x64
            {0xE0,0x01,0xF0,0x03,0x50,0x02,0x50,0x02,0x70,0x03,0x60,0x01,0x00,0x00,0x00,0x00},	// 0x65
            {0x20,0x02,0xFC,0x03,0xFE,0x03,0x22,0x02,0x26,0x00,0x04,0x00,0x00,0x00,0x00,0x00},	// 0x66
            {0xE0,0x04,0xF0,0x0D,0x10,0x09,0x10,0x09,0xE0,0x0F,0xF0,0x07,0x10,0x00,0x00,0x00},	// 0x67
            {0x02,0x02,0xFE,0x03,0xFE,0x03,0x20,0x00,0x10,0x00,0xF0,0x03,0xE0,0x03,0x00,0x00},	// 0x68
            {0x00,0x00,0x10,0x02,0x10,0x02,0xF6,0x03,0xF6,0x03,0x00,0x02,0x00,0x02,0x00,0x00},	// 0x69
            {0x00,0x06,0x00,0x0E,0x10,0x08,0x10,0x08,0xF6,0x0F,0xF6,0x07,0x00,0x00,0x00,0x00},	// 0x6A
            {0x02,0x02,0xFE,0x03,0xFE,0x03,0x40,0x00,0xE0,0x00,0xB0,0x03,0x10,0x03,0x00,0x00},	// 0x6B
            {0x00,0x00,0x02,0x02,0x02,0x02,0xFE,0x03,0xFE,0x03,0x00,0x02,0x00,0x02,0x00,0x00},	// 0x6C
            {0xF0,0x03,0xF0,0x03,0x10,0x00,0xF0,0x01,0x10,0x00,0xF0,0x03,0xE0,0x03,0x00,0x00},	// 0x6D
            {0xF0,0x03,0xF0,0x03,0x10,0x00,0x10,0x00,0xF0,0x03,0xE0,0x03,0x00,0x00,0x00,0x00},	// 0x6E
            {0xE0,0x01,0xF0,0x03,0x10,0x02,0x10,0x02,0xF0,0x03,0xE0,0x01,0x00,0x00,0x00,0x00},	// 0x6F
            {0x10,0x08,0xF0,0x0F,0xE0,0x0F,0x10,0x0A,0x10,0x02,0xF0,0x03,0xE0,0x01,0x00,0x00},	// 0x70
            {0xE0,0x01,0xF0,0x03,0x10,0x02,0x10,0x0A,0xE0,0x0F,0xF0,0x0F,0x10,0x08,0x00,0x00},	// 0x71
            {0x10,0x02,0xF0,0x03,0xF0,0x03,0x40,0x02,0x30,0x00,0x70,0x00,0x60,0x00,0x00,0x00},	// 0x72
            {0x20,0x01,0x70,0x03,0x50,0x02,0x90,0x02,0xB0,0x03,0x20,0x01,0x00,0x00,0x00,0x00},	// 0x73
            {0x10,0x00,0xF8,0x01,0xFC,0x03,0x10,0x02,0x10,0x03,0x10,0x01,0x00,0x00,0x00,0x00},	// 0x74
            {0xF0,0x01,0xF0,0x03,0x00,0x02,0x00,0x02,0xF0,0x01,0xF0,0x03,0x00,0x02,0x00,0x00},	// 0x75
            {0xF0,0x00,0xF0,0x01,0x00,0x03,0x00,0x03,0xF0,0x01,0xF0,0x00,0x00,0x00,0x00,0x00},	// 0x76
            {0xF0,0x00,0xF0,0x03,0x00,0x03,0xC0,0x00,0x00,0x03,0xF0,0x03,0xF0,0x00,0x00,0x00},	// 0x77
            {0x10,0x02,0x30,0x03,0xE0,0x01,0xC0,0x00,0xE0,0x01,0x30,0x03,0x10,0x02,0x00,0x00},	// 0x78
            {0x00,0x08,0xF0,0x08,0xF0,0x09,0x00,0x0D,0x00,0x07,0xF0,0x03,0xF0,0x00,0x00,0x00},	// 0x79
            {0x30,0x03,0x90,0x03,0x90,0x02,0x50,0x02,0x70,0x02,0x30,0x03,0x00,0x00,0x00,0x00},	// 0x7A
            {0x20,0x00,0x70,0x00,0xDC,0x01,0x8E,0x03,0x02,0x02,0x02,0x02,0x00,0x00,0x00,0x00},	// 0x7B
            {0x00,0x00,0x00,0x00,0x00,0x00,0xDE,0x03,0xDE,0x03,0x00,0x00,0x00,0x00,0x00,0x00},	// 0x7C
            {0x02,0x02,0x02,0x02,0x8E,0x03,0xDC,0x01,0x70,0x00,0x20,0x00,0x00,0x00,0x00,0x00},	// 0x7D
            {0x0C,0x00,0x0E,0x00,0x02,0x00,0x06,0x00,0x0C,0x00,0x08,0x00,0x0E,0x00,0x02,0x00},	// 0x7E
            {0xC0,0x01,0xE0,0x01,0x30,0x01,0x18,0x01,0x30,0x01,0xE0,0x01,0xC0,0x01,0x00,0x00},	// 0x7F
            {0xFC,0x01,0xFE,0x0B,0x02,0x0E,0x02,0x06,0x8E,0x03,0x8C,0x01,0x00,0x00,0x00,0x00},	// 0x80
            {0xF6,0x01,0xF6,0x03,0x00,0x02,0x00,0x02,0xF6,0x01,0xF6,0x03,0x00,0x02,0x00,0x00},	// 0x81
            {0xE0,0x01,0xF0,0x03,0x54,0x02,0x56,0x02,0x73,0x03,0x61,0x01,0x00,0x00,0x00,0x00},	// 0x82
            {0x84,0x01,0xD6,0x03,0x53,0x02,0x53,0x02,0xF6,0x01,0xE4,0x03,0x00,0x02,0x00,0x00},	// 0x83
            {0x86,0x01,0xD6,0x03,0x50,0x02,0x50,0x02,0xF6,0x01,0xE6,0x03,0x00,0x02,0x00,0x00},	// 0x84
            {0x81,0x01,0xD3,0x03,0x56,0x02,0x54,0x02,0xF0,0x01,0xE0,0x03,0x00,0x02,0x00,0x00},	// 0x85
            {0x90,0x01,0xD6,0x03,0x5F,0x02,0x59,0x02,0xFF,0x01,0xE6,0x03,0x00,0x02,0x00,0x00},	// 0x86
            {0xE0,0x01,0xF0,0x0B,0x10,0x0E,0x10,0x06,0x30,0x03,0x20,0x01,0x00,0x00,0x00,0x00},	// 0x87
            {0xE4,0x01,0xF6,0x03,0x53,0x02,0x53,0x02,0x76,0x02,0x64,0x02,0x00,0x00,0x00,0x00},	// 0x88
            {0xE6,0x01,0xF6,0x03,0x50,0x02,0x50,0x02,0x76,0x02,0x66,0x02,0x00,0x00,0x00,0x00},	// 0x89
            {0xE1,0x01,0xF3,0x03,0x56,0x02,0x54,0x02,0x70,0x02,0x60,0x02,0x00,0x00,0x00,0x00},	// 0x8A
            {0x00,0x00,0x16,0x02,0x16,0x02,0xF0,0x03,0xF6,0x03,0x06,0x02,0x00,0x02,0x00,0x00},	// 0x8B
            {0x00,0x00,0x14,0x02,0x16,0x02,0xF3,0x03,0xF6,0x03,0x04,0x02,0x00,0x02,0x00,0x00},	// 0x8C
            {0x00,0x00,0x11,0x02,0x13,0x02,0xF6,0x03,0xF4,0x03,0x00,0x02,0x00,0x02,0x00,0x00},	// 0x8D
            {0xE2,0x03,0xF2,0x03,0x98,0x00,0x98,0x00,0xF2,0x03,0xE2,0x03,0x00,0x00,0x00,0x00},	// 0x8E
            {0xE6,0x03,0xFF,0x03,0x99,0x00,0x99,0x00,0xFF,0x03,0xE6,0x03,0x00,0x00,0x00,0x00},	// 0x8F
            {0xF8,0x03,0xF8,0x03,0x48,0x02,0x4A,0x02,0x4B,0x02,0x19,0x03,0x00,0x00,0x00,0x00},	// 0x90
            {0x90,0x03,0xD0,0x03,0x50,0x02,0xF0,0x01,0xF0,0x03,0x50,0x02,0x70,0x02,0x60,0x02},	// 0x91
            {0xF8,0x03,0xFC,0x03,0x26,0x00,0xFE,0x03,0xFE,0x03,0x22,0x02,0x22,0x02,0x00,0x00},	// 0x92
            {0xE4,0x01,0xF6,0x03,0x13,0x02,0x13,0x02,0xF6,0x03,0xE4,0x01,0x00,0x00,0x00,0x00},	// 0x93
            {0xE6,0x01,0xF6,0x03,0x10,0x02,0x10,0x02,0xF6,0x03,0xE6,0x01,0x00,0x00,0x00,0x00},	// 0x94
            {0xE1,0x01,0xF3,0x03,0x16,0x02,0x14,0x02,0xF0,0x03,0xE0,0x01,0x00,0x00,0x00,0x00},	// 0x95
            {0xF4,0x01,0xF6,0x03,0x03,0x02,0x03,0x02,0xF6,0x01,0xF4,0x03,0x00,0x02,0x00,0x00},	// 0x96
            {0xF1,0x01,0xF3,0x03,0x06,0x02,0x04,0x02,0xF0,0x01,0xF0,0x03,0x00,0x02,0x00,0x00},	// 0x97
            {0x00,0x08,0xF6,0x08,0xF6,0x09,0x00,0x0D,0x00,0x07,0xF6,0x03,0xF6,0x00,0x00,0x00},	// 0x98
            {0xF2,0x01,0xFA,0x03,0x08,0x02,0x08,0x02,0xFA,0x03,0xF2,0x01,0x00,0x00,0x00,0x00},	// 0x99
            {0xFD,0x01,0xFD,0x03,0x00,0x02,0x00,0x02,0xFD,0x03,0xFD,0x01,0x00,0x00,0x00,0x00},	// 0x9A
            {0xE0,0x01,0xF0,0x03,0x90,0x02,0x50,0x02,0xF0,0x03,0xE0,0x01,0x00,0x00,0x00,0x00},	// 0x9B
            {0x20,0x03,0xFE,0x03,0xFF,0x02,0x21,0x02,0x21,0x02,0x23,0x02,0x02,0x02,0x00,0x00},	// 0x9C
            {0xF8,0x02,0xFC,0x01,0x86,0x03,0x72,0x02,0x0E,0x03,0xFC,0x01,0xFA,0x00,0x00,0x00},	// 0x9D
            {0x20,0x02,0x60,0x03,0xC0,0x01,0x80,0x00,0xC0,0x01,0x60,0x03,0x20,0x02,0x00,0x00},	// 0x9E
            {0x00,0x01,0x10,0x03,0x10,0x02,0xFE,0x03,0xFF,0x01,0x11,0x00,0x13,0x00,0x02,0x00},	// 0x9F
            {0x80,0x01,0xD0,0x03,0x54,0x02,0x56,0x02,0xF3,0x01,0xE1,0x03,0x00,0x02,0x00,0x00},	// 0xA0
            {0x00,0x00,0x10,0x02,0x14,0x02,0xF6,0x03,0xF3,0x03,0x01,0x02,0x00,0x02,0x00,0x00},	// 0xA1
            {0xE0,0x01,0xF0,0x03,0x14,0x02,0x16,0x02,0xF3,0x03,0xE1,0x01,0x00,0x00,0x00,0x00},	// 0xA2
            {0xF0,0x01,0xF0,0x03,0x04,0x02,0x06,0x02,0xF3,0x01,0xF1,0x03,0x00,0x02,0x00,0x00},	// 0xA3
            {0xF4,0x03,0xF6,0x03,0x12,0x00,0x16,0x00,0xF4,0x03,0xE6,0x03,0x02,0x00,0x00,0x00},	// 0xA4
            {0xFA,0x03,0xFB,0x03,0x31,0x00,0x63,0x00,0xC2,0x00,0xFB,0x03,0xF9,0x03,0x00,0x00},	// 0xA5
            {0x4C,0x00,0x5E,0x00,0x52,0x00,0x52,0x00,0x5E,0x00,0x5C,0x00,0x50,0x00,0x00,0x00},	// 0xA6
            {0x0C,0x00,0x1E,0x00,0x12,0x00,0x12,0x00,0x1E,0x00,0x0C,0x00,0x00,0x00,0x00,0x00},	// 0xA7 -> Modified: removed underlying line, so it can be used as the "degree" symbol
            {0xC0,0x01,0xE0,0x03,0x36,0x02,0x16,0x02,0x00,0x03,0x00,0x01,0x00,0x00,0x00,0x00},	// 0xA8
            {0xF8,0x00,0x04,0x01,0xFA,0x02,0x6A,0x02,0xBA,0x02,0x04,0x01,0xF8,0x00,0x00,0x00},	// 0xA9
            {0x20,0x00,0x20,0x00,0x20,0x00,0x20,0x00,0xE0,0x01,0xE0,0x01,0x00,0x00,0x00,0x00},	// 0xAA
            {0x84,0x01,0xDE,0x00,0x7E,0x00,0x30,0x04,0x58,0x06,0x4C,0x07,0xC6,0x05,0x80,0x04},	// 0xAB
            {0x84,0x01,0xDE,0x00,0x7E,0x03,0xB0,0x03,0xD8,0x02,0x6C,0x02,0xE6,0x07,0xE2,0x07},	// 0xAC
            {0x00,0x00,0xC0,0x01,0xF6,0x03,0xF6,0x03,0xC0,0x01,0x00,0x00,0x00,0x00,0x00,0x00},	// 0xAD
            {0xC0,0x00,0xE0,0x01,0x30,0x03,0x10,0x02,0xC0,0x00,0xE0,0x01,0x30,0x03,0x10,0x02},	// 0xAE
            {0x10,0x02,0x30,0x03,0xE0,0x01,0xC0,0x00,0x10,0x02,0x30,0x03,0xE0,0x01,0xC0,0x00},	// 0xAF
            {0x92,0x04,0x24,0x09,0x49,0x02,0x92,0x04,0x24,0x09,0x49,0x02,0x92,0x04,0x24,0x09},	// 0xB0
            {0xAA,0x0A,0x55,0x05,0xAA,0x0A,0x55,0x05,0xAA,0x0A,0x55,0x05,0xAA,0x0A,0x55,0x05},	// 0xB1
            {0xB6,0x0D,0xDB,0x06,0x6D,0x0B,0xB6,0x0D,0xDB,0x06,0x6D,0x0B,0xB6,0x0D,0xDB,0x06},	// 0xB2
            {0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x0F,0xFF,0x0F,0x00,0x00,0x00,0x00,0x00,0x00},	// 0xB3
            {0x20,0x00,0x20,0x00,0x20,0x00,0xFF,0x0F,0xFF,0x0F,0x00,0x00,0x00,0x00,0x00,0x00},	// 0xB4
            {0xE0,0x03,0xF0,0x03,0x98,0x00,0x9A,0x00,0xF3,0x03,0xE1,0x03,0x00,0x00,0x00,0x00},	// 0xB5
            {0xE2,0x03,0xF3,0x03,0x99,0x00,0x99,0x00,0xF3,0x03,0xE2,0x03,0x00,0x00,0x00,0x00},	// 0xB6
            {0xE0,0x03,0xF1,0x03,0x9B,0x00,0x9A,0x00,0xF0,0x03,0xE0,0x03,0x00,0x00,0x00,0x00},	// 0xB7
            {0xF8,0x00,0x04,0x01,0xFA,0x02,0x8A,0x02,0x8A,0x02,0x04,0x01,0xF8,0x00,0x00,0x00},	// 0xB8
            {0x90,0x00,0x9F,0x0F,0x9F,0x0F,0x00,0x00,0x00,0x00,0xFF,0x0F,0xFF,0x0F,0x00,0x00},	// 0xB9
            {0x00,0x00,0xFF,0x0F,0xFF,0x0F,0x00,0x00,0x00,0x00,0xFF,0x0F,0xFF,0x0F,0x00,0x00},	// 0xBA
            {0x90,0x00,0x90,0x0F,0x90,0x0F,0x10,0x00,0x10,0x00,0xF0,0x0F,0xF0,0x0F,0x00,0x00},	// 0xBB
            {0x90,0x00,0x9F,0x00,0x9F,0x00,0x80,0x00,0x80,0x00,0xFF,0x00,0xFF,0x00,0x00,0x00},	// 0xBC
            {0xF0,0x00,0xF8,0x01,0x0E,0x07,0x0E,0x07,0x98,0x01,0x90,0x00,0x00,0x00,0x00,0x00},	// 0xBD
            {0xAF,0x00,0xBF,0x00,0xF0,0x03,0xF0,0x03,0xBF,0x00,0xAF,0x00,0x00,0x00,0x00,0x00},	// 0xBE
            {0x20,0x00,0x20,0x00,0x20,0x00,0xE0,0x0F,0xE0,0x0F,0x00,0x00,0x00,0x00,0x00,0x00},	// 0xBF
            {0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x00,0x3F,0x00,0x20,0x00,0x20,0x00,0x20,0x00},	// 0xC0
            {0x20,0x00,0x20,0x00,0x20,0x00,0x3F,0x00,0x3F,0x00,0x20,0x00,0x20,0x00,0x20,0x00},	// 0xC1
            {0x20,0x00,0x20,0x00,0x20,0x00,0xE0,0x0F,0xE0,0x0F,0x20,0x00,0x20,0x00,0x20,0x00},	// 0xC2
            {0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x0F,0xFF,0x0F,0x20,0x00,0x20,0x00,0x20,0x00},	// 0xC3
            {0x20,0x00,0x20,0x00,0x20,0x00,0x20,0x00,0x20,0x00,0x20,0x00,0x20,0x00,0x20,0x00},	// 0xC4
            {0x20,0x00,0x20,0x00,0x20,0x00,0xFF,0x0F,0xFF,0x0F,0x20,0x00,0x20,0x00,0x20,0x00},	// 0xC5
            {0x84,0x01,0xD6,0x03,0x52,0x02,0x56,0x02,0xF4,0x01,0xE6,0x03,0x02,0x02,0x00,0x00},	// 0xC6
            {0xE2,0x03,0xF3,0x03,0x99,0x00,0x9B,0x00,0xF2,0x03,0xE3,0x03,0x01,0x00,0x00,0x00},	// 0xC7
            {0x00,0x00,0xFF,0x00,0xFF,0x00,0x80,0x00,0x80,0x00,0x9F,0x00,0x9F,0x00,0x90,0x00},	// 0xC8
            {0x00,0x00,0xF0,0x0F,0xF0,0x0F,0x10,0x00,0x10,0x00,0x90,0x0F,0x90,0x0F,0x90,0x00},	// 0xC9
            {0x90,0x00,0x9F,0x00,0x9F,0x00,0x80,0x00,0x80,0x00,0x9F,0x00,0x9F,0x00,0x90,0x00},	// 0xCA
            {0x90,0x00,0x90,0x0F,0x90,0x0F,0x10,0x00,0x10,0x00,0x90,0x0F,0x90,0x0F,0x90,0x00},	// 0xCB
            {0x00,0x00,0xFF,0x0F,0xFF,0x0F,0x00,0x00,0x00,0x00,0x9F,0x0F,0x9F,0x0F,0x90,0x00},	// 0xCC
            {0x90,0x00,0x90,0x00,0x90,0x00,0x90,0x00,0x90,0x00,0x90,0x00,0x90,0x00,0x90,0x00},	// 0xCD
            {0x90,0x00,0x9F,0x0F,0x9F,0x0F,0x00,0x00,0x00,0x00,0x9F,0x0F,0x9F,0x0F,0x90,0x00},	// 0xCE
            {0x20,0x02,0xE0,0x03,0xC0,0x01,0x40,0x01,0xC0,0x01,0xE0,0x03,0x20,0x02,0x00,0x00},	// 0xCF
            {0xC5,0x01,0xE5,0x03,0x22,0x02,0x26,0x02,0x2D,0x02,0xF9,0x03,0xF0,0x01,0x00,0x00},	// 0xD0
            {0x22,0x02,0xFE,0x03,0xFE,0x03,0x22,0x02,0x06,0x03,0xFC,0x01,0xF8,0x00,0x00,0x00},	// 0xD1
            {0xFA,0x03,0xFB,0x03,0x49,0x02,0x49,0x02,0x4B,0x02,0x1A,0x03,0x00,0x00,0x00,0x00},	// 0xD2
            {0xFA,0x03,0xFA,0x03,0x48,0x02,0x48,0x02,0x4A,0x02,0x1A,0x03,0x00,0x00,0x00,0x00},	// 0xD3
            {0xF8,0x03,0xF9,0x03,0x4B,0x02,0x4A,0x02,0x48,0x02,0x18,0x03,0x00,0x00,0x00,0x00},	// 0xD4
            {0x22,0x00,0x22,0x00,0x3E,0x00,0x3E,0x00,0x20,0x00,0x20,0x00,0x00,0x00,0x00,0x00},	// 0xD5
            {0x00,0x00,0x08,0x02,0xFA,0x03,0xFB,0x03,0x09,0x02,0x00,0x00,0x00,0x00,0x00,0x00},	// 0xD6
            {0x02,0x00,0x0B,0x02,0xF9,0x03,0xF9,0x03,0x0B,0x02,0x02,0x00,0x00,0x00,0x00,0x00},	// 0xD7
            {0x02,0x00,0x0A,0x02,0xF8,0x03,0xF8,0x03,0x0A,0x02,0x02,0x00,0x00,0x00,0x00,0x00},	// 0xD8
            {0x20,0x00,0x20,0x00,0x20,0x00,0x3F,0x00,0x3F,0x00,0x00,0x00,0x00,0x00,0x00,0x00},	// 0xD9
            {0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x0F,0xE0,0x0F,0x20,0x00,0x20,0x00,0x20,0x00},	// 0xDA
            {0xFF,0x0F,0xFF,0x0F,0xFF,0x0F,0xFF,0x0F,0xFF,0x0F,0xFF,0x0F,0xFF,0x0F,0xFF,0x0F},	// 0xDB
            {0xC0,0x0F,0xC0,0x0F,0xC0,0x0F,0xC0,0x0F,0xC0,0x0F,0xC0,0x0F,0xC0,0x0F,0xC0,0x0F},	// 0xDC
            {0x00,0x00,0x00,0x00,0x00,0x00,0xDE,0x03,0xDE,0x03,0x00,0x00,0x00,0x00,0x00,0x00},	// 0xDD
            {0x00,0x00,0x09,0x02,0xFB,0x03,0xFA,0x03,0x08,0x02,0x00,0x00,0x00,0x00,0x00,0x00},	// 0xDE
            {0x3F,0x00,0x3F,0x00,0x3F,0x00,0x3F,0x00,0x3F,0x00,0x3F,0x00,0x3F,0x00,0x3F,0x00},	// 0xDF
            {0xF0,0x01,0xF8,0x03,0x0A,0x02,0x0B,0x02,0xF9,0x03,0xF0,0x01,0x00,0x00,0x00,0x00},	// 0xE0
            {0xFC,0x03,0xFE,0x07,0x02,0x05,0x12,0x01,0xFE,0x01,0xEC,0x00,0x00,0x00,0x00,0x00},	// 0xE1
            {0xF2,0x01,0xFB,0x03,0x09,0x02,0x09,0x02,0xFB,0x03,0xF2,0x01,0x00,0x00,0x00,0x00},	// 0xE2
            {0xF0,0x01,0xF9,0x03,0x0B,0x02,0x0A,0x02,0xF8,0x03,0xF0,0x01,0x00,0x00,0x00,0x00},	// 0xE3
            {0xE4,0x01,0xF6,0x03,0x12,0x02,0x16,0x02,0xF4,0x03,0xE6,0x01,0x02,0x00,0x00,0x00},	// 0xE4
            {0xF2,0x01,0xFB,0x03,0x09,0x02,0x0B,0x02,0xFA,0x03,0xF3,0x01,0x01,0x00,0x00,0x00},	// 0xE5
            {0x00,0x08,0xF0,0x0F,0xF0,0x07,0x00,0x02,0x00,0x02,0xF0,0x01,0xF0,0x03,0x00,0x02},	// 0xE6
            {0x04,0x02,0xFC,0x03,0xFC,0x03,0x90,0x02,0x90,0x00,0xF0,0x00,0x60,0x00,0x00,0x00},	// 0xE7
            {0x02,0x02,0xFE,0x03,0xFE,0x03,0x8A,0x02,0x88,0x00,0xF8,0x00,0x70,0x00,0x00,0x00},	// 0xE8
            {0xF8,0x01,0xF8,0x03,0x02,0x02,0x03,0x02,0xF9,0x03,0xF8,0x01,0x00,0x00,0x00,0x00},	// 0xE9
            {0xFA,0x01,0xFB,0x03,0x01,0x02,0x01,0x02,0xFB,0x03,0xFA,0x01,0x00,0x00,0x00,0x00},	// 0xEA
            {0xF8,0x01,0xF9,0x03,0x03,0x02,0x02,0x02,0xF8,0x03,0xF8,0x01,0x00,0x00,0x00,0x00},	// 0xEB
            {0x00,0x08,0xF0,0x08,0xF0,0x09,0x04,0x0D,0x06,0x07,0xF3,0x03,0xF1,0x00,0x00,0x00},	// 0xEC
            {0x38,0x00,0x78,0x02,0xC2,0x03,0xC3,0x03,0x79,0x02,0x38,0x00,0x00,0x00,0x00,0x00},	// 0xED
            {0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x00,0x00,0x00,0x00},	// 0xEE
            {0x00,0x00,0x00,0x00,0x04,0x00,0x06,0x00,0x03,0x00,0x01,0x00,0x00,0x00,0x00,0x00},	// 0xEF
            {0x20,0x00,0x20,0x00,0x20,0x00,0x20,0x00,0x20,0x00,0x20,0x00,0x00,0x00,0x00,0x00},	// 0xF0
            {0x10,0x01,0x10,0x01,0x7C,0x01,0x7C,0x01,0x10,0x01,0x10,0x01,0x00,0x00,0x00,0x00},	// 0xF1
            {0x20,0x01,0x20,0x01,0x20,0x01,0x20,0x01,0x20,0x01,0x00,0x00,0x00,0x00,0x00,0x00},	// 0xF2
            {0x91,0x01,0xD5,0x00,0x7F,0x03,0xBA,0x03,0xD8,0x02,0x6C,0x02,0xE6,0x07,0xE2,0x07},	// 0xF3
            {0x1C,0x00,0x3E,0x00,0x22,0x00,0xFE,0x03,0xFE,0x03,0x02,0x00,0xFE,0x03,0xFE,0x03},	// 0xF4
            {0x00,0x02,0x66,0x06,0xFE,0x04,0x9A,0x04,0x92,0x05,0xF2,0x07,0x66,0x06,0x04,0x00},	// 0xF5
            {0x20,0x00,0x20,0x00,0xAC,0x01,0xAC,0x01,0x20,0x00,0x20,0x00,0x00,0x00,0x00,0x00},	// 0xF6
            {0x00,0x00,0x00,0x08,0x00,0x0C,0x00,0x0C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},	// 0xF7
            {0x00,0x00,0x1C,0x00,0x3E,0x00,0x22,0x00,0x22,0x00,0x3E,0x00,0x1C,0x00,0x00,0x00},	// 0xF8
            {0x02,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x02,0x00,0x02,0x00,0x00,0x00,0x00,0x00},	// 0xF9
            {0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x00,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x00},	// 0xFA
            {0x00,0x00,0x24,0x00,0x3E,0x00,0x3E,0x00,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x00},	// 0xFB
            {0x00,0x00,0x22,0x00,0x2A,0x00,0x2A,0x00,0x3E,0x00,0x14,0x00,0x00,0x00,0x00,0x00},	// 0xFC
            {0x00,0x00,0x22,0x00,0x32,0x00,0x3A,0x00,0x2E,0x00,0x24,0x00,0x00,0x00,0x00,0x00},	// 0xFD
            {0xF8,0x01,0xF8,0x01,0xF8,0x01,0xF8,0x01,0xF8,0x01,0xF8,0x01,0x00,0x00,0x00,0x00},	// 0xFE
            {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00} 	// 0xFF
            });

        #endregion

        #region Constructors

        public DisplayCanvas(int width, int height)
        {
            Width = width;
            Height = height;
            Buffer = new bool[height, width];
        }

        public DisplayCanvas() : this(128, 64)
        {
        }

        public DisplayCanvas(int width, int height, byte[] oledArray) : this(width, height)
        {
            int offset = 0;
            for (int y = 0; y < height; y++)
            {
                int mask = 1 << (y % 8);
                for (int x = 0; x < width; x++)
                {
                    if ((oledArray[offset + x] & mask) > 0)
                        Buffer[y, x] = true;
                }
                if (mask == 0x80)
                    offset += width;
            }
        }

        #endregion

        #region Properties

        public readonly int Width;
        public readonly int Height;

        #endregion

        #region Private

        private static Encoding encoding850 = null;

        private static DisplayCanvas[] LoadFont(int width, int height, byte[,] fontData)
        {
            var bytesPerCol = height / 8;
            if (bytesPerCol * 8 < height)
                bytesPerCol++;
            if (fontData.GetLength(0) != 256 || fontData.GetLength(1) != bytesPerCol * width)
                throw new Exception($"Invalid font data. Array size must be (256, {bytesPerCol * width})");

            //Console.WriteLine($"Loading font. width: {width}, height: {height}, buffLen: {fontData.GetLength(1)}, bytes per col: {bytesPerCol}");
            byte[] buff = new byte[fontData.GetLength(1)];
            var result = new DisplayCanvas[256];
            for (int chr = 0; chr <= 255; chr++)
            {
                int offset = 0;
                for (int x = 0; x < width; x++)
                {
                    for (int y = 0; y < bytesPerCol; y++)
                        buff[y * width + x] = fontData[chr, offset++];
                }
                result[chr] = new DisplayCanvas(width, height, buff);
            }
            return result;
        }

        private bool ValidRectangle(ref int x1, ref int y1, ref int x2, ref int y2)
        {
            if (x2 < 0 || y2 < 0 || x1 >= Width || y1 >= Height || x2 < x1 || y2 < y1)
                return false;
            if (x1 < 0) x1 = 0;
            if (y1 < 0) y1 = 0;
            if (x2 >= Width) x2 = Width - 1;
            if (y2 >= Height) y2 = Height - 1;
            return true;
        }

        private byte[] ToOledArray()
        {
            var heightBytes = (int)Math.Ceiling(Height / 8.0);
            var result = new byte[Width * heightBytes];

            int offset = 0;
            for (int y = 0; y < Height; y++)
            {
                int mask = 1 << (y % 8);
                for (int x = 0; x < Width; x++)
                {
                    if (Buffer[y, x])
                        result[offset + x] = (byte)(result[offset + x] | mask);
                }
                if (mask == 0x80)
                    offset += Width;
            }

            return result;
        }

        #endregion

        public void Reverse(int x1, int y1, int x2, int y2)
        {
            if (!ValidRectangle(ref x1, ref y1, ref x2, ref y2))
                return;

            for (int y = y1; y <= y2; y++)
            {
                for (int x = x1; x <= x2; x++)
                    Buffer[y, x] = !Buffer[y, x];
            }
        }

        public void Reverse()
        {
            Reverse(0, 0, Width - 1, Height - 1);
        }

        public void FillRectangle(int x1, int y1, int x2, int y2)
        {
            if (!ValidRectangle(ref x1, ref y1, ref x2, ref y2))
                return;

            for (int y = y1; y <= y2; y++)
            {
                for (int x = x1; x <= x2; x++)
                    Buffer[y, x] = true;
            }
        }

        public void ToDisplay()
        {
            IOManager.Display_Draw(0, 0, ToOledArray());
        }

        public void DrawCanvas(int x1, int y1, DisplayCanvas c)
        {
            int x2 = x1 + c.Width - 1;
            int y2 = y1 + c.Height - 1;

            if (x2 < 0 || y2 < 0 || x1 >= Width || y1 >= Height || x2 < x1 || y2 < y1)
                return;

            for (int y = 0; y < c.Height; y++)
            {
                int destY = y + y1;
                if (destY >= 0 && destY < Height)     // Can't copy lines outside of this canvas
                {
                    for (int x = 0; x < c.Width; x++)
                    {
                        int destX = x + x1;
                        if (destX >= 0 && destX < Width)
                        {
                            Buffer[destY, destX] = c.Buffer[y, x];
                        }
                    }
                }
            }

        }

        public void DrawText(int x, int y, DisplayCanvas[] font, string text)
        {
            if (string.IsNullOrEmpty(text) || x >= Width || y >= Height)
                return;

            // Convert to code page 850 and limit to 170 characters (full screen)
            if (encoding850 == null)
                encoding850 = Encoding.GetEncoding(850);
            var strBytes = encoding850.GetBytes(text);
            int len = strBytes.Length;

            // Draw characters, one at a time, next to each other
            for (int i = 0; i < len; i++)
            {
                var c = font[strBytes[i]];
                DrawCanvas(x, y, c);
                x += c.Width;
                if (x >= Width)
                    break;
            }
                
        }

        public void DrawHourglass(int x, int y)
        {
            DrawCanvas(x, y, IconHourglass_16x32);
        }

        public void DrawTitle(int x1, string text1, int x2, string text2, int x3, string text3)
        {
            // Text
            if (!string.IsNullOrEmpty(text1))
                DrawText(x1, 0, Font_6x8, text1);
            if (!string.IsNullOrEmpty(text2))
                DrawText(x2, 0, Font_6x8, text2);
            if (!string.IsNullOrEmpty(text3))
                DrawText(x3, 0, Font_6x8, text3);

            // Separator line
            FillRectangle(0, 12, Width - 1, 12);
        }

        public void DrawTitle(string text)
        {
            DrawTitle(0, text, 0, null, 0, null);
        }

        public void Draw1234(int x)
        {
            const int y_offset = 16;
            const int y_spacing = 12;
            for (int i = 1; i <= 4; i++)
                DrawText(x, (i - 1) * y_spacing + y_offset, Font_8x12, i.ToString());
        }

        public void DrawBackArrow(bool isSelected)
        {
            //DrawCanvas(115, 2, IconBackArrow_12x5);
            DrawText(Width - 10, 0, Font_8x12, "\u2190");
            if (isSelected)
                Reverse(Width - 13, 0, Width - 1, 9);
        }

        public void DrawPlusSign()
        {
            DrawText(Width - 10, 0, Font_8x12, "+");
            Reverse(Width - 13, 0, Width - 1, 9);
        }

        public void DrawWarningSign()
        {
            DrawCanvas(Width - 11, 0, IconWarning_10x11);
        }

        public void DrawHourglass()
        {
            const int offset_top = 16;
            DrawCanvas((Width - IconHourglass_16x32.Width) / 2, (Height - IconHourglass_16x32.Height - offset_top) / 2 + offset_top, IconHourglass_16x32);
        }

        public void DrawSwitch(int x, int y, bool isOn)
        {
            DrawCanvas(x, y, isOn ? IconSwitchOn_30x11 : IconSwitchOff_30x11);
        }

        public void Dump()
        {
            Console.WriteLine("------- Begin dump");
            for (int y = 0; y < Height; y++)
            {
                for (int x = 0; x < Width; x++)
                    Console.Write(Buffer[y, x] ? '*' : ' ');
                Console.WriteLine();
            }
            Console.WriteLine("------- End dump");
        }

    }
}
